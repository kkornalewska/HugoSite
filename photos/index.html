<!DOCTYPE html>
<html lang="en-us">
    <head>
		
		
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Photos &middot; Hugo JAMSite</title>

		
  		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/fonts.css">
		
		<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

		
		<link href="/photos/index.xml" rel="alternate" type="application/rss+xml" title="Hugo JAMSite" />
	</head>

    <body>
        <nav class="nav">
	<div class="nav-container">
		<a href="/">
			<h2 class="nav-title">Hugo JAMSite</h2>
		</a>
		<style>
    .nav {
        overflow: visible;
        height: 3rem;
    }
    #search {
        float: right;
        position: relative;
        bottom: 0.2rem;
        padding: 0.5rem 1rem;
        width: 15rem;
        border: 1px solid lightgray;
    }

    #search-results {
        position: absolute;
        background: white;
        box-shadow: 1px 1px 1px 1px rgba(0,0,0,0.35);
        right: 0;
    }

    #search-results a {
        display: block;
        border-bottom: 1px solid lightgray;
        width: 12rem;
        padding: 0.5rem;
        font-size: 0.75rem;
        font-weight: bold;
    }

    #search-results a:hover {
        background-color: #60aeea;
        color: white;
    }

    #search-results.hide {
        display: none;
    }
</style>

<input type="text" id="search" placeholder="Search">
<div id="search-results" class="hide">
</div>
<script src="https://unpkg.com/lunr/lunr.js"></script>
<script>

    const search = document.getElementById("search");
    const searchResults = document.getElementById("search-results");

    
    search.addEventListener("focus", e => {
        searchResults.classList.remove("hide");
    });
    search.addEventListener("blur", e => {
        setTimeout( () => {
            searchResults.classList.add("hide");
        }, 200 )
    });

    
    search.addEventListener("keyup", function() {

        searchResults.innerHTML = '';
        if (!this.value) return;

        
        let results = window.idx.search( this.value );
        console.log(results);

        results.forEach(page => {

            let pageRef = page.ref.split('||');
            console.log(`pageRef: ${pageRef}`);
            let pageLink = document.createElement("a");
            pageLink.innerText = pageRef[0];    
            pageLink.href = pageRef[1];    

            
            
            searchResults.append(pageLink);

        })
    })

    
    
    
    fetch( "https://sharp-snyder-ac4d75.netlify.app/" + 'index.json')
        
        .then(res => res.json())
        
        .then(searchIndex => {
            console.log(searchIndex);
            window.idx = lunr(function () {
                    
                    this.ref('ref')
                    
                    
                    this.field('title');
                    this.field('content');

                    
                    searchIndex.forEach(page => {
                        this.add(page)
                    })
                })
        })
</script>

	</div>
</nav>

        

<main>
	<h3>Lista postów ze zdjęciami:</h3>
	<div class="catalogue">
		
			<a href="https://sharp-snyder-ac4d75.netlify.app/photos/first-photo-page/" class="catalogue-item">
    <div>
        <time datetime="2021-03-17 21:53:12 &#43;0100 &#43;0100" class="catalogue-time">March 17, 2021</time>
        <h1 class="catalogue-title">First Photo Page</h1>
        <div class="catalogue-line"></div>

        <p>
            Nagłówek strony Fragment treści
Nagłówek zdjęcia Pozostała treść&hellip;
        </p>
    </div>
</a>

		
			<a href="https://sharp-snyder-ac4d75.netlify.app/photos/sailing-adventure/" class="catalogue-item">
    <div>
        <time datetime="2021-03-16 12:03:58 &#43;0100 &#43;0100" class="catalogue-time">March 16, 2021</time>
        <h1 class="catalogue-title">Żeglarska przygoda</h1>
        <div class="catalogue-line"></div>

        <p>
            Żeglarska przygoda Proin fermentum leo vel orci porta non. Sit amet tellus cras adipiscing enim eu turpis egestas. Ut faucibus pulvinar elementum integer. Sem integer vitae justo eget magna. Urna porttitor rhoncus dolor purus.
Wyprawa Nulla at volutpat diam ut venenatis tellus in metus. Eu non diam phasellus vestibulum. Donec et odio pellentesque diam volutpat commodo sed. Eleifend quam adipiscing vitae proin sagittis nisl. Consectetur purus ut faucibus pulvinar elementum integer enim neque.
        </p>
    </div>
</a>

		
	</div>

	<div class="pagination">
		
		

		<span>1</span>
	</div>
</main>


        		<footer>
			
			<span>
			&copy; <time datetime="2021-04-09 12:20:44.492841022 &#43;0000 UTC m=&#43;0.163367321">2021</time> . Made with <a href='https://gohugo.io'>Hugo</a> using the <a href='https://github.com/EmielH/tale-hugo/'>Tale</a> theme.
			</span>
		</footer>

    </body>
</html>
